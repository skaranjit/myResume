{"ast":null,"code":"var shellwords = require('shellwords');\n\nvar cp = require('child_process');\n\nvar semver = require('semver');\n\nvar isWSL = require('is-wsl');\n\nvar path = require('path');\n\nvar url = require('url');\n\nvar os = require('os');\n\nvar fs = require('fs');\n\nvar net = require('net');\n\nconst BUFFER_SIZE = 1024;\n\nfunction clone(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nmodule.exports.clone = clone;\n\nvar escapeQuotes = function (str) {\n  if (typeof str === 'string') {\n    return str.replace(/([\"$`\\\\])/g, '\\\\$1');\n  } else {\n    return str;\n  }\n};\n\nvar inArray = function (arr, val) {\n  return arr.indexOf(val) !== -1;\n};\n\nvar notifySendFlags = {\n  u: 'urgency',\n  urgency: 'urgency',\n  t: 'expire-time',\n  time: 'expire-time',\n  timeout: 'expire-time',\n  e: 'expire-time',\n  expire: 'expire-time',\n  'expire-time': 'expire-time',\n  i: 'icon',\n  icon: 'icon',\n  c: 'category',\n  category: 'category',\n  subtitle: 'category',\n  h: 'hint',\n  hint: 'hint',\n  a: 'app-name',\n  'app-name': 'app-name'\n};\n\nmodule.exports.command = function (notifier, options, cb) {\n  notifier = shellwords.escape(notifier);\n\n  if (process.env.DEBUG && process.env.DEBUG.indexOf('notifier') !== -1) {\n    console.info('node-notifier debug info (command):');\n    console.info('[notifier path]', notifier);\n    console.info('[notifier options]', options.join(' '));\n  }\n\n  return cp.exec(notifier + ' ' + options.join(' '), function (error, stdout, stderr) {\n    if (error) return cb(error);\n    cb(stderr, stdout);\n  });\n};\n\nmodule.exports.fileCommand = function (notifier, options, cb) {\n  if (process.env.DEBUG && process.env.DEBUG.indexOf('notifier') !== -1) {\n    console.info('node-notifier debug info (fileCommand):');\n    console.info('[notifier path]', notifier);\n    console.info('[notifier options]', options.join(' '));\n  }\n\n  return cp.execFile(notifier, options, function (error, stdout, stderr) {\n    if (error) return cb(error, stdout);\n    cb(stderr, stdout);\n  });\n};\n\nmodule.exports.fileCommandJson = function (notifier, options, cb) {\n  if (process.env.DEBUG && process.env.DEBUG.indexOf('notifier') !== -1) {\n    console.info('node-notifier debug info (fileCommandJson):');\n    console.info('[notifier path]', notifier);\n    console.info('[notifier options]', options.join(' '));\n  }\n\n  return cp.execFile(notifier, options, function (error, stdout, stderr) {\n    if (error) return cb(error, stdout);\n    if (!stdout) return cb(error, {});\n\n    try {\n      var data = JSON.parse(stdout);\n      cb(!stderr ? null : stderr, data);\n    } catch (e) {\n      cb(e, stdout);\n    }\n  });\n};\n\nmodule.exports.immediateFileCommand = function (notifier, options, cb) {\n  if (process.env.DEBUG && process.env.DEBUG.indexOf('notifier') !== -1) {\n    console.info('node-notifier debug info (notifier):');\n    console.info('[notifier path]', notifier);\n  }\n\n  notifierExists(notifier, function (_, exists) {\n    if (!exists) {\n      return cb(new Error('Notifier (' + notifier + ') not found on system.'));\n    }\n\n    cp.execFile(notifier, options);\n    cb();\n  });\n};\n\nfunction notifierExists(notifier, cb) {\n  return fs.stat(notifier, function (err, stat) {\n    if (!err) return cb(err, stat.isFile()); // Check if Windows alias\n\n    if (path.extname(notifier)) {\n      // Has extentioon, no need to check more\n      return cb(err, false);\n    } // Check if there is an exe file in the directory\n\n\n    return fs.stat(notifier + '.exe', function (err, stat) {\n      if (err) return cb(err, false);\n      cb(err, stat.isFile());\n    });\n  });\n}\n\nvar mapAppIcon = function (options) {\n  if (options.appIcon) {\n    options.icon = options.appIcon;\n    delete options.appIcon;\n  }\n\n  return options;\n};\n\nvar mapText = function (options) {\n  if (options.text) {\n    options.message = options.text;\n    delete options.text;\n  }\n\n  return options;\n};\n\nvar mapIconShorthand = function (options) {\n  if (options.i) {\n    options.icon = options.i;\n    delete options.i;\n  }\n\n  return options;\n};\n\nmodule.exports.mapToNotifySend = function (options) {\n  options = mapAppIcon(options);\n  options = mapText(options);\n\n  if (options.timeout === false) {\n    delete options.timeout;\n  }\n\n  if (options.wait === true) {\n    options['expire-time'] = 5; // 5 seconds default time (multipled below)\n  }\n\n  for (var key in options) {\n    if (key === 'message' || key === 'title') continue;\n\n    if (options.hasOwnProperty(key) && notifySendFlags[key] !== key) {\n      options[notifySendFlags[key]] = options[key];\n      delete options[key];\n    }\n  }\n\n  if (typeof options['expire-time'] === 'undefined') {\n    options['expire-time'] = 10 * 1000; // 10 sec timeout by default\n  } else if (typeof options['expire-time'] === 'number') {\n    options['expire-time'] = options['expire-time'] * 1000; // notify send uses milliseconds\n  }\n\n  return options;\n};\n\nmodule.exports.mapToGrowl = function (options) {\n  options = mapAppIcon(options);\n  options = mapIconShorthand(options);\n  options = mapText(options);\n\n  if (options.icon && !Buffer.isBuffer(options.icon)) {\n    try {\n      options.icon = fs.readFileSync(options.icon);\n    } catch (ex) {}\n  }\n\n  return options;\n};\n\nmodule.exports.mapToMac = function (options) {\n  options = mapIconShorthand(options);\n  options = mapText(options);\n\n  if (options.icon) {\n    options.appIcon = options.icon;\n    delete options.icon;\n  }\n\n  if (options.sound === true) {\n    options.sound = 'Bottle';\n  }\n\n  if (options.sound === false) {\n    delete options.sound;\n  }\n\n  if (options.sound && options.sound.indexOf('Notification.') === 0) {\n    options.sound = 'Bottle';\n  }\n\n  if (options.wait === true) {\n    if (!options.timeout) {\n      options.timeout = 5;\n    }\n\n    delete options.wait;\n  }\n\n  if (!options.wait && !options.timeout) {\n    if (options.timeout === false) {\n      delete options.timeout;\n    } else {\n      options.timeout = 10;\n    }\n  }\n\n  options.json = true;\n  return options;\n};\n\nfunction isArray(arr) {\n  return Object.prototype.toString.call(arr) === '[object Array]';\n}\n\nmodule.exports.isArray = isArray;\n\nfunction noop() {}\n\nmodule.exports.actionJackerDecorator = function (emitter, options, fn, mapper) {\n  options = clone(options);\n  fn = fn || noop;\n\n  if (typeof fn !== 'function') {\n    throw new TypeError('The second argument must be a function callback. You have passed ' + typeof fn);\n  }\n\n  return function (err, data) {\n    var resultantData = data;\n    var metadata = {}; // Allow for extra data if resultantData is an object\n\n    if (resultantData && typeof resultantData === 'object') {\n      metadata = resultantData;\n      resultantData = resultantData.activationType;\n    } // Sanitize the data\n\n\n    if (resultantData) {\n      resultantData = resultantData.toLowerCase().trim();\n\n      if (resultantData.match(/^activate|clicked$/)) {\n        resultantData = 'activate';\n      }\n\n      if (resultantData.match(/^timedout$/)) {\n        resultantData = 'timeout';\n      }\n    }\n\n    fn.apply(emitter, [err, resultantData, metadata]);\n    if (!mapper || !resultantData) return;\n    var key = mapper(resultantData);\n    if (!key) return;\n    emitter.emit(key, emitter, options, metadata);\n  };\n};\n\nmodule.exports.constructArgumentList = function (options, extra) {\n  var args = [];\n  extra = extra || {}; // Massive ugly setup. Default args\n\n  var initial = extra.initial || [];\n  var keyExtra = extra.keyExtra || '';\n  var allowedArguments = extra.allowedArguments || [];\n  var noEscape = extra.noEscape !== undefined;\n  var checkForAllowed = extra.allowedArguments !== undefined;\n  var explicitTrue = !!extra.explicitTrue;\n  var keepNewlines = !!extra.keepNewlines;\n  var wrapper = extra.wrapper === undefined ? '\"' : extra.wrapper;\n\n  var escapeFn = function escapeFn(arg) {\n    if (isArray(arg)) {\n      return removeNewLines(arg.map(escapeFn).join(','));\n    }\n\n    if (!noEscape) {\n      arg = escapeQuotes(arg);\n    }\n\n    if (typeof arg === 'string' && !keepNewlines) {\n      arg = removeNewLines(arg);\n    }\n\n    return wrapper + arg + wrapper;\n  };\n\n  initial.forEach(function (val) {\n    args.push(escapeFn(val));\n  });\n\n  for (var key in options) {\n    if (options.hasOwnProperty(key) && (!checkForAllowed || inArray(allowedArguments, key))) {\n      if (explicitTrue && options[key] === true) {\n        args.push('-' + keyExtra + key);\n      } else if (explicitTrue && options[key] === false) continue;else args.push('-' + keyExtra + key, escapeFn(options[key]));\n    }\n  }\n\n  return args;\n};\n\nfunction removeNewLines(str) {\n  var excapedNewline = process.platform === 'win32' ? '\\\\r\\\\n' : '\\\\n';\n  return str.replace(/\\r?\\n/g, excapedNewline);\n}\n/*\n---- Options ----\n[-t] <title string>     | Displayed on the first line of the toast.\n[-m] <message string>   | Displayed on the remaining lines, wrapped.\n[-b] <button1;button2 string>| Displayed on the bottom line, can list multiple buttons separated by \";\"\n[-tb]                   | Displayed a textbox on the bottom line, only if buttons are not presented.\n[-p] <image URI>        | Display toast with an image, local files only.\n[-id] <id>              | sets the id for a notification to be able to close it later.\n[-s] <sound URI>        | Sets the sound of the notifications, for possible values see http://msdn.microsoft.com/en-us/library/windows/apps/hh761492.aspx.\n[-silent]               | Don't play a sound file when showing the notifications.\n[-appID] <App.ID>       | Don't create a shortcut but use the provided app id.\n[-pid] <pid>            | Query the appid for the process <pid>, use -appID as fallback. (Only relevant for applications that might be packaged for the store)\n[-pipeName] <\\.\\pipe\\pipeName\\> | Provide a name pipe which is used for callbacks.\n[-application] <C:\\foo.exe>     | Provide a application that might be started if the pipe does not exist.\n-close <id>             | Closes a currently displayed notification.\n*/\n\n\nvar allowedToasterFlags = ['t', 'm', 'b', 'tb', 'p', 'id', 's', 'silent', 'appID', 'pid', 'pipeName', 'close', 'install'];\nvar toasterSoundPrefix = 'Notification.';\nvar toasterDefaultSound = 'Notification.Default';\n\nmodule.exports.mapToWin8 = function (options) {\n  options = mapAppIcon(options);\n  options = mapText(options);\n\n  if (options.icon) {\n    if (/^file:\\/+/.test(options.icon)) {\n      // should parse file protocol URL to path\n      options.p = new url.URL(options.icon).pathname.replace(/^\\/(\\w:\\/)/, '$1').replace(/\\//g, '\\\\');\n    } else {\n      options.p = options.icon;\n    }\n\n    delete options.icon;\n  }\n\n  if (options.message) {\n    // Remove escape char to debug \"HRESULT : 0xC00CE508\" exception\n    options.m = options.message.replace(/\\x1b/g, '');\n    delete options.message;\n  }\n\n  if (options.title) {\n    options.t = options.title;\n    delete options.title;\n  }\n\n  if (options.appName) {\n    options.appID = options.appName;\n    delete options.appName;\n  }\n\n  if (typeof options.remove !== 'undefined') {\n    options.close = options.remove;\n    delete options.remove;\n  }\n\n  if (options.quiet || options.silent) {\n    options.silent = options.quiet || options.silent;\n    delete options.quiet;\n  }\n\n  if (typeof options.sound !== 'undefined') {\n    options.s = options.sound;\n    delete options.sound;\n  }\n\n  if (options.s === false) {\n    options.silent = true;\n    delete options.s;\n  } // Silent takes precedence. Remove sound.\n\n\n  if (options.s && options.silent) {\n    delete options.s;\n  }\n\n  if (options.s === true) {\n    options.s = toasterDefaultSound;\n  }\n\n  if (options.s && options.s.indexOf(toasterSoundPrefix) !== 0) {\n    options.s = toasterDefaultSound;\n  }\n\n  if (options.actions && isArray(options.actions)) {\n    options.b = options.actions.join(';');\n    delete options.actions;\n  }\n\n  for (var key in options) {\n    // Check if is allowed. If not, delete!\n    if (options.hasOwnProperty(key) && allowedToasterFlags.indexOf(key) === -1) {\n      delete options[key];\n    }\n  }\n\n  return options;\n};\n\nmodule.exports.mapToNotifu = function (options) {\n  options = mapAppIcon(options);\n  options = mapText(options);\n\n  if (options.icon) {\n    options.i = options.icon;\n    delete options.icon;\n  }\n\n  if (options.message) {\n    options.m = options.message;\n    delete options.message;\n  }\n\n  if (options.title) {\n    options.p = options.title;\n    delete options.title;\n  }\n\n  if (options.time) {\n    options.d = options.time;\n    delete options.time;\n  }\n\n  if (options.q !== false) {\n    options.q = true;\n  } else {\n    delete options.q;\n  }\n\n  if (options.quiet === false) {\n    delete options.q;\n    delete options.quiet;\n  }\n\n  if (options.sound) {\n    delete options.q;\n    delete options.sound;\n  }\n\n  if (options.t) {\n    options.d = options.t;\n    delete options.t;\n  }\n\n  if (options.type) {\n    options.t = sanitizeNotifuTypeArgument(options.type);\n    delete options.type;\n  }\n\n  return options;\n};\n\nmodule.exports.isMac = function () {\n  return os.type() === 'Darwin';\n};\n\nmodule.exports.isMountainLion = function () {\n  return os.type() === 'Darwin' && semver.satisfies(garanteeSemverFormat(os.release()), '>=12.0.0');\n};\n\nmodule.exports.isWin8 = function () {\n  return os.type() === 'Windows_NT' && semver.satisfies(garanteeSemverFormat(os.release()), '>=6.2.9200');\n};\n\nmodule.exports.isWSL = function () {\n  return isWSL;\n};\n\nmodule.exports.isLessThanWin8 = function () {\n  return os.type() === 'Windows_NT' && semver.satisfies(garanteeSemverFormat(os.release()), '<6.2.9200');\n};\n\nfunction garanteeSemverFormat(version) {\n  if (version.split('.').length === 2) {\n    version += '.0';\n  }\n\n  return version;\n}\n\nfunction sanitizeNotifuTypeArgument(type) {\n  if (typeof type === 'string' || type instanceof String) {\n    if (type.toLowerCase() === 'info') return 'info';\n    if (type.toLowerCase() === 'warn') return 'warn';\n    if (type.toLowerCase() === 'error') return 'error';\n  }\n\n  return 'info';\n}\n\nmodule.exports.createNamedPipe = server => {\n  const buf = Buffer.alloc(BUFFER_SIZE);\n  return new Promise(resolve => {\n    server.instance = net.createServer(stream => {\n      stream.on('data', c => {\n        buf.write(c.toString());\n      });\n      stream.on('end', () => {\n        server.instance.close();\n      });\n    });\n    server.instance.listen(server.namedPipe, () => {\n      resolve(buf);\n    });\n  });\n};","map":{"version":3,"sources":["/Users/sumankaranjit/myProfile/resume/node_modules/node-notifier/lib/utils.js"],"names":["shellwords","require","cp","semver","isWSL","path","url","os","fs","net","BUFFER_SIZE","clone","obj","JSON","parse","stringify","module","exports","escapeQuotes","str","replace","inArray","arr","val","indexOf","notifySendFlags","u","urgency","t","time","timeout","e","expire","i","icon","c","category","subtitle","h","hint","a","command","notifier","options","cb","escape","process","env","DEBUG","console","info","join","exec","error","stdout","stderr","fileCommand","execFile","fileCommandJson","data","immediateFileCommand","notifierExists","_","exists","Error","stat","err","isFile","extname","mapAppIcon","appIcon","mapText","text","message","mapIconShorthand","mapToNotifySend","wait","key","hasOwnProperty","mapToGrowl","Buffer","isBuffer","readFileSync","ex","mapToMac","sound","json","isArray","Object","prototype","toString","call","noop","actionJackerDecorator","emitter","fn","mapper","TypeError","resultantData","metadata","activationType","toLowerCase","trim","match","apply","emit","constructArgumentList","extra","args","initial","keyExtra","allowedArguments","noEscape","undefined","checkForAllowed","explicitTrue","keepNewlines","wrapper","escapeFn","arg","removeNewLines","map","forEach","push","excapedNewline","platform","allowedToasterFlags","toasterSoundPrefix","toasterDefaultSound","mapToWin8","test","p","URL","pathname","m","title","appName","appID","remove","close","quiet","silent","s","actions","b","mapToNotifu","d","q","type","sanitizeNotifuTypeArgument","isMac","isMountainLion","satisfies","garanteeSemverFormat","release","isWin8","isLessThanWin8","version","split","length","String","createNamedPipe","server","buf","alloc","Promise","resolve","instance","createServer","stream","on","write","listen","namedPipe"],"mappings":"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","sourcesContent":["var shellwords = require('shellwords');\nvar cp = require('child_process');\nvar semver = require('semver');\nvar isWSL = require('is-wsl');\nvar path = require('path');\nvar url = require('url');\nvar os = require('os');\nvar fs = require('fs');\nvar net = require('net');\n\nconst BUFFER_SIZE = 1024;\n\nfunction clone(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nmodule.exports.clone = clone;\n\nvar escapeQuotes = function (str) {\n  if (typeof str === 'string') {\n    return str.replace(/([\"$`\\\\])/g, '\\\\$1');\n  } else {\n    return str;\n  }\n};\n\nvar inArray = function (arr, val) {\n  return arr.indexOf(val) !== -1;\n};\n\nvar notifySendFlags = {\n  u: 'urgency',\n  urgency: 'urgency',\n  t: 'expire-time',\n  time: 'expire-time',\n  timeout: 'expire-time',\n  e: 'expire-time',\n  expire: 'expire-time',\n  'expire-time': 'expire-time',\n  i: 'icon',\n  icon: 'icon',\n  c: 'category',\n  category: 'category',\n  subtitle: 'category',\n  h: 'hint',\n  hint: 'hint',\n  a: 'app-name',\n  'app-name': 'app-name'\n};\n\nmodule.exports.command = function (notifier, options, cb) {\n  notifier = shellwords.escape(notifier);\n  if (process.env.DEBUG && process.env.DEBUG.indexOf('notifier') !== -1) {\n    console.info('node-notifier debug info (command):');\n    console.info('[notifier path]', notifier);\n    console.info('[notifier options]', options.join(' '));\n  }\n\n  return cp.exec(notifier + ' ' + options.join(' '), function (\n    error,\n    stdout,\n    stderr\n  ) {\n    if (error) return cb(error);\n    cb(stderr, stdout);\n  });\n};\n\nmodule.exports.fileCommand = function (notifier, options, cb) {\n  if (process.env.DEBUG && process.env.DEBUG.indexOf('notifier') !== -1) {\n    console.info('node-notifier debug info (fileCommand):');\n    console.info('[notifier path]', notifier);\n    console.info('[notifier options]', options.join(' '));\n  }\n\n  return cp.execFile(notifier, options, function (error, stdout, stderr) {\n    if (error) return cb(error, stdout);\n    cb(stderr, stdout);\n  });\n};\n\nmodule.exports.fileCommandJson = function (notifier, options, cb) {\n  if (process.env.DEBUG && process.env.DEBUG.indexOf('notifier') !== -1) {\n    console.info('node-notifier debug info (fileCommandJson):');\n    console.info('[notifier path]', notifier);\n    console.info('[notifier options]', options.join(' '));\n  }\n  return cp.execFile(notifier, options, function (error, stdout, stderr) {\n    if (error) return cb(error, stdout);\n    if (!stdout) return cb(error, {});\n\n    try {\n      var data = JSON.parse(stdout);\n      cb(!stderr ? null : stderr, data);\n    } catch (e) {\n      cb(e, stdout);\n    }\n  });\n};\n\nmodule.exports.immediateFileCommand = function (notifier, options, cb) {\n  if (process.env.DEBUG && process.env.DEBUG.indexOf('notifier') !== -1) {\n    console.info('node-notifier debug info (notifier):');\n    console.info('[notifier path]', notifier);\n  }\n\n  notifierExists(notifier, function (_, exists) {\n    if (!exists) {\n      return cb(new Error('Notifier (' + notifier + ') not found on system.'));\n    }\n    cp.execFile(notifier, options);\n    cb();\n  });\n};\n\nfunction notifierExists(notifier, cb) {\n  return fs.stat(notifier, function (err, stat) {\n    if (!err) return cb(err, stat.isFile());\n\n    // Check if Windows alias\n    if (path.extname(notifier)) {\n      // Has extentioon, no need to check more\n      return cb(err, false);\n    }\n\n    // Check if there is an exe file in the directory\n    return fs.stat(notifier + '.exe', function (err, stat) {\n      if (err) return cb(err, false);\n      cb(err, stat.isFile());\n    });\n  });\n}\n\nvar mapAppIcon = function (options) {\n  if (options.appIcon) {\n    options.icon = options.appIcon;\n    delete options.appIcon;\n  }\n\n  return options;\n};\n\nvar mapText = function (options) {\n  if (options.text) {\n    options.message = options.text;\n    delete options.text;\n  }\n\n  return options;\n};\n\nvar mapIconShorthand = function (options) {\n  if (options.i) {\n    options.icon = options.i;\n    delete options.i;\n  }\n\n  return options;\n};\n\nmodule.exports.mapToNotifySend = function (options) {\n  options = mapAppIcon(options);\n  options = mapText(options);\n\n  if (options.timeout === false) {\n    delete options.timeout;\n  }\n  if (options.wait === true) {\n    options['expire-time'] = 5; // 5 seconds default time (multipled below)\n  }\n  for (var key in options) {\n    if (key === 'message' || key === 'title') continue;\n    if (options.hasOwnProperty(key) && notifySendFlags[key] !== key) {\n      options[notifySendFlags[key]] = options[key];\n      delete options[key];\n    }\n  }\n  if (typeof options['expire-time'] === 'undefined') {\n    options['expire-time'] = 10 * 1000; // 10 sec timeout by default\n  } else if (typeof options['expire-time'] === 'number') {\n    options['expire-time'] = options['expire-time'] * 1000; // notify send uses milliseconds\n  }\n\n  return options;\n};\n\nmodule.exports.mapToGrowl = function (options) {\n  options = mapAppIcon(options);\n  options = mapIconShorthand(options);\n  options = mapText(options);\n\n  if (options.icon && !Buffer.isBuffer(options.icon)) {\n    try {\n      options.icon = fs.readFileSync(options.icon);\n    } catch (ex) {}\n  }\n\n  return options;\n};\n\nmodule.exports.mapToMac = function (options) {\n  options = mapIconShorthand(options);\n  options = mapText(options);\n\n  if (options.icon) {\n    options.appIcon = options.icon;\n    delete options.icon;\n  }\n\n  if (options.sound === true) {\n    options.sound = 'Bottle';\n  }\n\n  if (options.sound === false) {\n    delete options.sound;\n  }\n\n  if (options.sound && options.sound.indexOf('Notification.') === 0) {\n    options.sound = 'Bottle';\n  }\n\n  if (options.wait === true) {\n    if (!options.timeout) {\n      options.timeout = 5;\n    }\n    delete options.wait;\n  }\n\n  if (!options.wait && !options.timeout) {\n    if (options.timeout === false) {\n      delete options.timeout;\n    } else {\n      options.timeout = 10;\n    }\n  }\n\n  options.json = true;\n  return options;\n};\n\nfunction isArray(arr) {\n  return Object.prototype.toString.call(arr) === '[object Array]';\n}\nmodule.exports.isArray = isArray;\n\nfunction noop() {}\nmodule.exports.actionJackerDecorator = function (emitter, options, fn, mapper) {\n  options = clone(options);\n  fn = fn || noop;\n\n  if (typeof fn !== 'function') {\n    throw new TypeError(\n      'The second argument must be a function callback. You have passed ' +\n        typeof fn\n    );\n  }\n\n  return function (err, data) {\n    var resultantData = data;\n    var metadata = {};\n    // Allow for extra data if resultantData is an object\n    if (resultantData && typeof resultantData === 'object') {\n      metadata = resultantData;\n      resultantData = resultantData.activationType;\n    }\n\n    // Sanitize the data\n    if (resultantData) {\n      resultantData = resultantData.toLowerCase().trim();\n      if (resultantData.match(/^activate|clicked$/)) {\n        resultantData = 'activate';\n      }\n      if (resultantData.match(/^timedout$/)) {\n        resultantData = 'timeout';\n      }\n    }\n\n    fn.apply(emitter, [err, resultantData, metadata]);\n    if (!mapper || !resultantData) return;\n\n    var key = mapper(resultantData);\n    if (!key) return;\n    emitter.emit(key, emitter, options, metadata);\n  };\n};\n\nmodule.exports.constructArgumentList = function (options, extra) {\n  var args = [];\n  extra = extra || {};\n\n  // Massive ugly setup. Default args\n  var initial = extra.initial || [];\n  var keyExtra = extra.keyExtra || '';\n  var allowedArguments = extra.allowedArguments || [];\n  var noEscape = extra.noEscape !== undefined;\n  var checkForAllowed = extra.allowedArguments !== undefined;\n  var explicitTrue = !!extra.explicitTrue;\n  var keepNewlines = !!extra.keepNewlines;\n  var wrapper = extra.wrapper === undefined ? '\"' : extra.wrapper;\n\n  var escapeFn = function escapeFn(arg) {\n    if (isArray(arg)) {\n      return removeNewLines(arg.map(escapeFn).join(','));\n    }\n\n    if (!noEscape) {\n      arg = escapeQuotes(arg);\n    }\n    if (typeof arg === 'string' && !keepNewlines) {\n      arg = removeNewLines(arg);\n    }\n    return wrapper + arg + wrapper;\n  };\n\n  initial.forEach(function (val) {\n    args.push(escapeFn(val));\n  });\n  for (var key in options) {\n    if (\n      options.hasOwnProperty(key) &&\n      (!checkForAllowed || inArray(allowedArguments, key))\n    ) {\n      if (explicitTrue && options[key] === true) {\n        args.push('-' + keyExtra + key);\n      } else if (explicitTrue && options[key] === false) continue;\n      else args.push('-' + keyExtra + key, escapeFn(options[key]));\n    }\n  }\n  return args;\n};\n\nfunction removeNewLines(str) {\n  var excapedNewline = process.platform === 'win32' ? '\\\\r\\\\n' : '\\\\n';\n  return str.replace(/\\r?\\n/g, excapedNewline);\n}\n\n/*\n---- Options ----\n[-t] <title string>     | Displayed on the first line of the toast.\n[-m] <message string>   | Displayed on the remaining lines, wrapped.\n[-b] <button1;button2 string>| Displayed on the bottom line, can list multiple buttons separated by \";\"\n[-tb]                   | Displayed a textbox on the bottom line, only if buttons are not presented.\n[-p] <image URI>        | Display toast with an image, local files only.\n[-id] <id>              | sets the id for a notification to be able to close it later.\n[-s] <sound URI>        | Sets the sound of the notifications, for possible values see http://msdn.microsoft.com/en-us/library/windows/apps/hh761492.aspx.\n[-silent]               | Don't play a sound file when showing the notifications.\n[-appID] <App.ID>       | Don't create a shortcut but use the provided app id.\n[-pid] <pid>            | Query the appid for the process <pid>, use -appID as fallback. (Only relevant for applications that might be packaged for the store)\n[-pipeName] <\\.\\pipe\\pipeName\\> | Provide a name pipe which is used for callbacks.\n[-application] <C:\\foo.exe>     | Provide a application that might be started if the pipe does not exist.\n-close <id>             | Closes a currently displayed notification.\n*/\nvar allowedToasterFlags = [\n  't',\n  'm',\n  'b',\n  'tb',\n  'p',\n  'id',\n  's',\n  'silent',\n  'appID',\n  'pid',\n  'pipeName',\n  'close',\n  'install'\n];\nvar toasterSoundPrefix = 'Notification.';\nvar toasterDefaultSound = 'Notification.Default';\nmodule.exports.mapToWin8 = function (options) {\n  options = mapAppIcon(options);\n  options = mapText(options);\n\n  if (options.icon) {\n    if (/^file:\\/+/.test(options.icon)) {\n      // should parse file protocol URL to path\n      options.p = new url.URL(options.icon).pathname\n        .replace(/^\\/(\\w:\\/)/, '$1')\n        .replace(/\\//g, '\\\\');\n    } else {\n      options.p = options.icon;\n    }\n    delete options.icon;\n  }\n\n  if (options.message) {\n    // Remove escape char to debug \"HRESULT : 0xC00CE508\" exception\n    options.m = options.message.replace(/\\x1b/g, '');\n    delete options.message;\n  }\n\n  if (options.title) {\n    options.t = options.title;\n    delete options.title;\n  }\n\n  if (options.appName) {\n    options.appID = options.appName;\n    delete options.appName;\n  }\n\n  if (typeof options.remove !== 'undefined') {\n    options.close = options.remove;\n    delete options.remove;\n  }\n\n  if (options.quiet || options.silent) {\n    options.silent = options.quiet || options.silent;\n    delete options.quiet;\n  }\n\n  if (typeof options.sound !== 'undefined') {\n    options.s = options.sound;\n    delete options.sound;\n  }\n\n  if (options.s === false) {\n    options.silent = true;\n    delete options.s;\n  }\n\n  // Silent takes precedence. Remove sound.\n  if (options.s && options.silent) {\n    delete options.s;\n  }\n\n  if (options.s === true) {\n    options.s = toasterDefaultSound;\n  }\n\n  if (options.s && options.s.indexOf(toasterSoundPrefix) !== 0) {\n    options.s = toasterDefaultSound;\n  }\n\n  if (options.actions && isArray(options.actions)) {\n    options.b = options.actions.join(';');\n    delete options.actions;\n  }\n\n  for (var key in options) {\n    // Check if is allowed. If not, delete!\n    if (\n      options.hasOwnProperty(key) &&\n      allowedToasterFlags.indexOf(key) === -1\n    ) {\n      delete options[key];\n    }\n  }\n\n  return options;\n};\n\nmodule.exports.mapToNotifu = function (options) {\n  options = mapAppIcon(options);\n  options = mapText(options);\n\n  if (options.icon) {\n    options.i = options.icon;\n    delete options.icon;\n  }\n\n  if (options.message) {\n    options.m = options.message;\n    delete options.message;\n  }\n\n  if (options.title) {\n    options.p = options.title;\n    delete options.title;\n  }\n\n  if (options.time) {\n    options.d = options.time;\n    delete options.time;\n  }\n\n  if (options.q !== false) {\n    options.q = true;\n  } else {\n    delete options.q;\n  }\n\n  if (options.quiet === false) {\n    delete options.q;\n    delete options.quiet;\n  }\n\n  if (options.sound) {\n    delete options.q;\n    delete options.sound;\n  }\n\n  if (options.t) {\n    options.d = options.t;\n    delete options.t;\n  }\n\n  if (options.type) {\n    options.t = sanitizeNotifuTypeArgument(options.type);\n    delete options.type;\n  }\n\n  return options;\n};\n\nmodule.exports.isMac = function () {\n  return os.type() === 'Darwin';\n};\n\nmodule.exports.isMountainLion = function () {\n  return (\n    os.type() === 'Darwin' &&\n    semver.satisfies(garanteeSemverFormat(os.release()), '>=12.0.0')\n  );\n};\n\nmodule.exports.isWin8 = function () {\n  return (\n    os.type() === 'Windows_NT' &&\n    semver.satisfies(garanteeSemverFormat(os.release()), '>=6.2.9200')\n  );\n};\n\nmodule.exports.isWSL = function () {\n  return isWSL;\n};\n\nmodule.exports.isLessThanWin8 = function () {\n  return (\n    os.type() === 'Windows_NT' &&\n    semver.satisfies(garanteeSemverFormat(os.release()), '<6.2.9200')\n  );\n};\n\nfunction garanteeSemverFormat(version) {\n  if (version.split('.').length === 2) {\n    version += '.0';\n  }\n  return version;\n}\n\nfunction sanitizeNotifuTypeArgument(type) {\n  if (typeof type === 'string' || type instanceof String) {\n    if (type.toLowerCase() === 'info') return 'info';\n    if (type.toLowerCase() === 'warn') return 'warn';\n    if (type.toLowerCase() === 'error') return 'error';\n  }\n\n  return 'info';\n}\n\nmodule.exports.createNamedPipe = (server) => {\n  const buf = Buffer.alloc(BUFFER_SIZE);\n\n  return new Promise((resolve) => {\n    server.instance = net.createServer((stream) => {\n      stream.on('data', (c) => {\n        buf.write(c.toString());\n      });\n      stream.on('end', () => {\n        server.instance.close();\n      });\n    });\n    server.instance.listen(server.namedPipe, () => {\n      resolve(buf);\n    });\n  });\n};\n"]},"metadata":{},"sourceType":"script"}