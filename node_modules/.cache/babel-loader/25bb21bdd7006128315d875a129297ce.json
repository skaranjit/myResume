{"ast":null,"code":"var _jsxFileName = \"/Users/sumankaranjit/myProfile/resume/src/pages/Profile.js\";\nimport { request } from \"dom-helpers/cjs/animationFrame\";\nimport React, { Component } from \"react\";\nimport Canvas from \"./../components/canvas\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Profile extends Component {\n  render() {\n    const frameCount = 147;\n\n    const draw = (ctx, frameCount) => {\n      const currentFrame = index => {\n        \"https://www.apple.com/105/media/us/airpods-pro/2019/1299e2f5_9206_4470_b28e_08307a42f19b/anim/sequence/large/01-hero-lightpass/${index.toString().padStart(4, '0')}.jpg\";\n      };\n\n      const html = document.documentElement; //   const canvas = document.getElementById(\"profile\");\n\n      ctx.canvas.width = 1158;\n      ctx.canvas.height = 770;\n      ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n      const img = new Image();\n      img.src = currentFrame(1);\n\n      img.onload = function () {\n        ctx.drawImage(img, 0, 0);\n\n        const updateImage = index => {\n          img.src = currentFrame(index);\n          context.drawImage(img, 0, 0);\n        };\n\n        window.addEventListener(\"scroll\", () => {\n          const scrollTop = html.scrollTop;\n          const maxScrollTop = html.scrollHeight - window.innerHeight;\n          const scrollFraction = scrollTop / maxScrollTop;\n          const frameIndex = Math.min(frameCount - 1, Math.floor(scrollFraction * frameCount));\n          requestAnimationFrame(() => updateImage(frameCount + 1));\n          console.log(maxScrollTop);\n        });\n      };\n    }; // const canvasRef = useRef(null);\n    // useEffect(() => {\n    //   const canvas = canvasRef.current;\n    //   const context = canvas.getContext(\"2d\");\n    //   canvas.height = 770;\n    //   canvas.width = 1158;\n    //   const updateImage = (index) => {\n    //     img.src = currentFrame(index);\n    //     context.drawImage(img, 0, 0);\n    //   };\n    // });\n\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Canvas, {\n        draw: draw\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/Users/sumankaranjit/myProfile/resume/src/pages/Profile.js"],"names":["request","React","Component","Canvas","Profile","render","frameCount","draw","ctx","currentFrame","index","html","document","documentElement","canvas","width","height","clearRect","img","Image","src","onload","drawImage","updateImage","context","window","addEventListener","scrollTop","maxScrollTop","scrollHeight","innerHeight","scrollFraction","frameIndex","Math","min","floor","requestAnimationFrame","console","log"],"mappings":";AAAA,SAASA,OAAT,QAAwB,gCAAxB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,wBAAnB;;;AAEA,MAAMC,OAAN,SAAsBF,SAAtB,CAAgC;AAC9BG,EAAAA,MAAM,GAAG;AACP,UAAMC,UAAU,GAAG,GAAnB;;AACA,UAAMC,IAAI,GAAG,CAACC,GAAD,EAAMF,UAAN,KAAqB;AAChC,YAAMG,YAAY,GAAIC,KAAD,IAAW;AAC9B;AACD,OAFD;;AAGA,YAAMC,IAAI,GAAGC,QAAQ,CAACC,eAAtB,CAJgC,CAKhC;;AACAL,MAAAA,GAAG,CAACM,MAAJ,CAAWC,KAAX,GAAmB,IAAnB;AACAP,MAAAA,GAAG,CAACM,MAAJ,CAAWE,MAAX,GAAoB,GAApB;AACAR,MAAAA,GAAG,CAACS,SAAJ,CAAc,CAAd,EAAiB,CAAjB,EAAoBT,GAAG,CAACM,MAAJ,CAAWC,KAA/B,EAAsCP,GAAG,CAACM,MAAJ,CAAWE,MAAjD;AACA,YAAME,GAAG,GAAG,IAAIC,KAAJ,EAAZ;AACAD,MAAAA,GAAG,CAACE,GAAJ,GAAUX,YAAY,CAAC,CAAD,CAAtB;;AACAS,MAAAA,GAAG,CAACG,MAAJ,GAAa,YAAY;AACvBb,QAAAA,GAAG,CAACc,SAAJ,CAAcJ,GAAd,EAAmB,CAAnB,EAAsB,CAAtB;;AACA,cAAMK,WAAW,GAAIb,KAAD,IAAW;AAC7BQ,UAAAA,GAAG,CAACE,GAAJ,GAAUX,YAAY,CAACC,KAAD,CAAtB;AACAc,UAAAA,OAAO,CAACF,SAAR,CAAkBJ,GAAlB,EAAuB,CAAvB,EAA0B,CAA1B;AACD,SAHD;;AAIAO,QAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC,MAAM;AACtC,gBAAMC,SAAS,GAAGhB,IAAI,CAACgB,SAAvB;AACA,gBAAMC,YAAY,GAAGjB,IAAI,CAACkB,YAAL,GAAoBJ,MAAM,CAACK,WAAhD;AACA,gBAAMC,cAAc,GAAGJ,SAAS,GAAGC,YAAnC;AACA,gBAAMI,UAAU,GAAGC,IAAI,CAACC,GAAL,CACjB5B,UAAU,GAAG,CADI,EAEjB2B,IAAI,CAACE,KAAL,CAAWJ,cAAc,GAAGzB,UAA5B,CAFiB,CAAnB;AAIA8B,UAAAA,qBAAqB,CAAC,MAAMb,WAAW,CAACjB,UAAU,GAAG,CAAd,CAAlB,CAArB;AACA+B,UAAAA,OAAO,CAACC,GAAR,CAAYV,YAAZ;AACD,SAVD;AAWD,OAjBD;AAkBD,KA7BD,CAFO,CAgCP;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;;;AAEA,wBACE;AAAA,6BACE,QAAC,MAAD;AAAQ,QAAA,IAAI,EAAErB;AAAd;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAKD;;AArD6B;;AAwDhC,eAAeH,OAAf","sourcesContent":["import { request } from \"dom-helpers/cjs/animationFrame\";\nimport React, { Component } from \"react\";\nimport Canvas from \"./../components/canvas\";\n\nclass Profile extends Component {\n  render() {\n    const frameCount = 147;\n    const draw = (ctx, frameCount) => {\n      const currentFrame = (index) => {\n        \"https://www.apple.com/105/media/us/airpods-pro/2019/1299e2f5_9206_4470_b28e_08307a42f19b/anim/sequence/large/01-hero-lightpass/${index.toString().padStart(4, '0')}.jpg\";\n      };\n      const html = document.documentElement;\n      //   const canvas = document.getElementById(\"profile\");\n      ctx.canvas.width = 1158;\n      ctx.canvas.height = 770;\n      ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n      const img = new Image();\n      img.src = currentFrame(1);\n      img.onload = function () {\n        ctx.drawImage(img, 0, 0);\n        const updateImage = (index) => {\n          img.src = currentFrame(index);\n          context.drawImage(img, 0, 0);\n        };\n        window.addEventListener(\"scroll\", () => {\n          const scrollTop = html.scrollTop;\n          const maxScrollTop = html.scrollHeight - window.innerHeight;\n          const scrollFraction = scrollTop / maxScrollTop;\n          const frameIndex = Math.min(\n            frameCount - 1,\n            Math.floor(scrollFraction * frameCount)\n          );\n          requestAnimationFrame(() => updateImage(frameCount + 1));\n          console.log(maxScrollTop);\n        });\n      };\n    };\n    // const canvasRef = useRef(null);\n    // useEffect(() => {\n    //   const canvas = canvasRef.current;\n    //   const context = canvas.getContext(\"2d\");\n\n    //   canvas.height = 770;\n    //   canvas.width = 1158;\n\n    //   const updateImage = (index) => {\n    //     img.src = currentFrame(index);\n    //     context.drawImage(img, 0, 0);\n    //   };\n\n    // });\n\n    return (\n      <div>\n        <Canvas draw={draw} />\n      </div>\n    );\n  }\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}