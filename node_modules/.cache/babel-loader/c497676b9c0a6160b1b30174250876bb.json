{"ast":null,"code":"var _jsxFileName = \"/Users/sumankaranjit/myProfile/resume/src/pages/Profile.js\",\n    _s = $RefreshSig$();\n\nimport { request } from \"dom-helpers/cjs/animationFrame\";\nimport React, { Component, createRef, ReactPropTypes, useEffect } from \"react\";\nimport Canvas from \"./../components/canvas\";\nimport ReactDOM from \"react-dom\";\nimport { WindowsBalloon } from \"node-notifier\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst canvasRef = /*#__PURE__*/createRef();\n\nfunction getImage(index) {\n  return \"https://www.apple.com/105/media/us/airpods-pro/2019/1299e2f5_9206_4470_b28e_08307a42f19b/anim/sequence/large/01-hero-lightpass/000\" + index + \".jpg\";\n}\n\nfunction updateImage(imgObj, index, ctx) {\n  imgObj.src = getImage(index);\n  ctx.drawImage(imgObj, 0, 0);\n} // this.updateImage(imageObj1, frameIndex + 1, ctx);\n// imageObj1.onload = function () {\n//   ctx.drawImage(imageObj1, 20, 20);\n// };\n// window.addEventListener(\"scroll\", () => {\n//   const scrollTop = html.scrollTop;\n//   const maxScrollTop = html.scrollHeight - window.innerHeight;\n//   const scrollFraction = scrollTop / maxScrollTop;\n//   const frameIndex = Math.min(\n//     frameCount - 1,\n//     Math.floor(scrollFraction * frameCount)\n//   );\n//   console.log(maxScrollTop);\n// });\n\n\nfunction Profile() {\n  _s();\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", requestAnimationFrame(() => {\n      updateCanvas = () => {\n        const canvas = canvasRef.current;\n        const html = document.documentElement;\n        const frameCount = 0;\n\n        if (canvas) {\n          canvas.width = 1158;\n          canvas.height = 770;\n          const ctx = canvas.getContext(\"2d\");\n          var imageObj1 = new Image();\n          imageObj1.src = getImage(1);\n\n          imageObj1.onload = function () {\n            ctx.drawImage(imageObj1, 0, 0);\n          };\n\n          console.log(html.scrollTop, html.scrollHeight, window.innerHeight);\n          const scrollTop = html.scrollTop;\n          const maxScrollTop = html.scrollHeight - window.innerHeight;\n          const scrollFraction = scrollTop / maxScrollTop;\n          const frameIndex = Math.min(frameCount - 1, Math.floor(scrollFraction * frameCount));\n          updateImage(imageObj1, frameCount + 1, ctx);\n          console.log(scrollTop, maxScrollTop, frameIndex);\n        }\n      };\n    }));\n    return () => {\n      window.cancelAnimationFrame();\n    };\n  }); //   const draw = (ctx, frameCount) => {\n  // const html = document.documentElement;\n  // const canvas = document.createElement(\"canvas\");\n  // const ctx = canvas.id(\"profile\");\n  // const context = canvas.getContext(\"2d\");\n  // canvas.width = 1158;\n  // canvas.height =1000;\n  // // canvas.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  // // ctx.beginPath();\n  // // ctx.fill();\n  // const img = new Image();\n  // img.src = currentFrame(1);\n  // img.onload = function () {\n  //   context.drawImage(img, 0, 0);\n  // };\n  // const updateImage = (index) => {\n  //   img.src = currentFrame(index);\n  //   ctx.drawImage(img, 0, 0);\n  // };\n  //   requestAnimationFrame(() => updateImage(frameCount + 1));\n  //   console.log(maxScrollTop);\n  // });\n  //};\n\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef,\n    width: \"1158\",\n    height: \"770\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 10\n  }, this);\n}\n\n_s(Profile, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["/Users/sumankaranjit/myProfile/resume/src/pages/Profile.js"],"names":["request","React","Component","createRef","ReactPropTypes","useEffect","Canvas","ReactDOM","WindowsBalloon","canvasRef","getImage","index","updateImage","imgObj","ctx","src","drawImage","Profile","window","addEventListener","requestAnimationFrame","updateCanvas","canvas","current","html","document","documentElement","frameCount","width","height","getContext","imageObj1","Image","onload","console","log","scrollTop","scrollHeight","innerHeight","maxScrollTop","scrollFraction","frameIndex","Math","min","floor","cancelAnimationFrame"],"mappings":"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","sourcesContent":["import { request } from \"dom-helpers/cjs/animationFrame\";\nimport React, { Component, createRef, ReactPropTypes, useEffect } from \"react\";\nimport Canvas from \"./../components/canvas\";\nimport ReactDOM from \"react-dom\";\nimport { WindowsBalloon } from \"node-notifier\";\n\nconst canvasRef = createRef();\nfunction getImage(index) {\n  return (\n    \"https://www.apple.com/105/media/us/airpods-pro/2019/1299e2f5_9206_4470_b28e_08307a42f19b/anim/sequence/large/01-hero-lightpass/000\" +\n    index +\n    \".jpg\"\n  );\n}\nfunction updateImage(imgObj, index, ctx) {\n  imgObj.src = getImage(index);\n  ctx.drawImage(imgObj, 0, 0);\n}\n\n// this.updateImage(imageObj1, frameIndex + 1, ctx);\n\n// imageObj1.onload = function () {\n//   ctx.drawImage(imageObj1, 20, 20);\n// };\n// window.addEventListener(\"scroll\", () => {\n//   const scrollTop = html.scrollTop;\n//   const maxScrollTop = html.scrollHeight - window.innerHeight;\n//   const scrollFraction = scrollTop / maxScrollTop;\n//   const frameIndex = Math.min(\n//     frameCount - 1,\n//     Math.floor(scrollFraction * frameCount)\n//   );\n\n//   console.log(maxScrollTop);\n// });\n\nfunction Profile() {\n  useEffect(() => {\n    window.addEventListener(\n      \"scroll\",\n\n      requestAnimationFrame(() => {\n        updateCanvas = () => {\n          const canvas = canvasRef.current;\n          const html = document.documentElement;\n          const frameCount = 0;\n          if (canvas) {\n            canvas.width = 1158;\n            canvas.height = 770;\n            const ctx = canvas.getContext(\"2d\");\n            var imageObj1 = new Image();\n            imageObj1.src = getImage(1);\n            imageObj1.onload = function () {\n              ctx.drawImage(imageObj1, 0, 0);\n            };\n            console.log(html.scrollTop, html.scrollHeight, window.innerHeight);\n            const scrollTop = html.scrollTop;\n            const maxScrollTop = html.scrollHeight - window.innerHeight;\n            const scrollFraction = scrollTop / maxScrollTop;\n            const frameIndex = Math.min(\n              frameCount - 1,\n              Math.floor(scrollFraction * frameCount)\n            );\n\n            updateImage(imageObj1, frameCount + 1, ctx);\n\n            console.log(scrollTop, maxScrollTop, frameIndex);\n          }\n        };\n      })\n    );\n    return () => {\n      window.cancelAnimationFrame();\n    };\n  });\n\n  //   const draw = (ctx, frameCount) => {\n\n  // const html = document.documentElement;\n  // const canvas = document.createElement(\"canvas\");\n  // const ctx = canvas.id(\"profile\");\n  // const context = canvas.getContext(\"2d\");\n  // canvas.width = 1158;\n  // canvas.height =1000;\n  // // canvas.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  // // ctx.beginPath();\n  // // ctx.fill();\n  // const img = new Image();\n  // img.src = currentFrame(1);\n  // img.onload = function () {\n  //   context.drawImage(img, 0, 0);\n  // };\n  // const updateImage = (index) => {\n  //   img.src = currentFrame(index);\n  //   ctx.drawImage(img, 0, 0);\n  // };\n\n  //   requestAnimationFrame(() => updateImage(frameCount + 1));\n  //   console.log(maxScrollTop);\n  // });\n  //};\n\n  return <canvas ref={canvasRef} width=\"1158\" height=\"770\"></canvas>;\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}