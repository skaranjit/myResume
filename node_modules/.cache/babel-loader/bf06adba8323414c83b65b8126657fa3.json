{"ast":null,"code":"var _jsxFileName = \"/Users/sumankaranjit/myProfile/resume/src/pages/Profile.js\";\n// import React, { createRef, useEffect } from \"react\";\n// const canvasRef = createRef();\n// function getImage(index) {\n//   return (\n//     // \"https://www.apple.com/105/media/us/airpods-pro/2019/1299e2f5_9206_4470_b28e_08307a42f19b/anim/sequence/large/01-hero-lightpass/\" +\n//     // index.toString().padStart(4, 0) +\n//     // \".jpg\"\n//     process.env.PUBLIC_URL + \"/img/img\" + index.toString() + \".png\"\n//   );\n// }\n// const updateImage = (imgObj, index, ctx) => {\n//   if (index === 0 || index === null) {\n//     index = 1;\n//   }\n//   imgObj.src = getImage(index);\n//   console.log(imgObj);\n//   ctx.drawImage(imgObj, 0, 0);\n// };\n// const getAllImg = async () => {\n//   var x = 0;\n//   while (x != 7) {\n//     x++;\n//     const imgObj = new Image();\n//     imgObj.src = await getImage(x);\n//   }\n// };\n// function Profile() {\n//   getAllImg();\n//   const updateCanvas = async () => {\n//     const canvas = canvasRef.current;\n//     const ctx = canvas.getContext(\"2d\");\n//     const frameCount = 7;\n//     var imageObj1 = document.getElementById(\"source\");\n//     canvas.width = imageObj1.width;\n//     canvas.height = imageObj1.height;\n//     const html = document.documentElement;\n//     const scrollTop = html.scrollTop;\n//     const maxScrollTop = html.scrollHeight - window.innerHeight;\n//     const scrollFraction = scrollTop / maxScrollTop;\n//     console.log(scrollTop, scrollFraction);\n//     const frameIndex = Math.min(\n//       frameCount - 1,\n//       Math.floor(scrollFraction * frameCount)\n//     );\n//     await updateImage(imageObj1, frameIndex + 1, ctx);\n//     console.log(frameIndex);\n//   };\n//   useEffect(() => {\n//     document.onscroll = async () => {\n//       await requestAnimationFrame(() => {\n//         updateCanvas();\n//       });\n//       return () => {\n//         //window.removeEventListener(onscroll);\n//         // cancelAnimationFrame();\n//       };\n//     };\n//   }, []);\n//   return (\n//     <canvas ref={canvasRef} style={{}}>\n//       <img id=\"source\" src=\"./../assets/img/0001.png\"></img>\n//     </canvas>\n//   );\n// }\n// export default Profile;\nimport { PromiseResolve } from \"es-abstract/es2018\";\nimport React, { Component, createRef, useEffect, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst checkImage = path => new Promise(resolve => {\n  const img = new Image();\n\n  img.onload = () => resolve(path);\n\n  img.src = path;\n});\n\nconst updateCanvas = () => {\n  const canvas = this.canvasRef.current;\n  const frameCount = 7;\n  var imageObj1 = document.getElementById(\"source\");\n  imageObj1 = this.getImage(1);\n  console.log(imageObj1);\n  const ctx = canvas.getContext(\"2d\");\n  canvas.width = imageObj1.width;\n  canvas.height = imageObj1.height;\n  const html = document.documentElement;\n  const scrollTop = html.scrollTop;\n  const maxScrollTop = html.scrollHeight - window.innerHeight;\n  const scrollFraction = scrollTop / maxScrollTop;\n  console.log(scrollTop, scrollFraction);\n  const frameIndex = Math.min(frameCount - 1, Math.floor(scrollFraction * frameCount));\n  this.updateImage(imageObj1, frameIndex + 1, ctx);\n  console.log(frameIndex);\n};\n\nclass Profile extends Component {\n  constructor() {\n    super();\n\n    this.updateImage = async (imgObj, index, ctx) => {\n      if (index === 0 || index === null) {\n        index = 1;\n      }\n\n      imgObj.src = await this.getImage(index);\n      console.log(imgObj);\n      ctx.drawImage(imgObj, 0, 0);\n    };\n\n    this.getAllImg = async () => {\n      var x = 0;\n\n      while (x != 7) {\n        x++;\n        const imgObj = new Image();\n        imgObj.src = await this.getImage(x);\n      }\n    };\n\n    this.canvasRef = createRef;\n  }\n\n  getImage(index) {\n    // \"https://www.apple.com/105/media/us/airpods-pro/2019/1299e2f5_9206_4470_b28e_08307a42f19b/anim/sequence/large/01-hero-lightpass/\" +\n    // index.toString().padStart(4, 0) +\n    // \".jpg\"\n    const imgUrl = process.env.PUBLIC_URL + \"/img/img\" + index.toString() + \".png\";\n    const myPromise = checkImage(imgUrl);\n    myPromise.then(response => console.log(response)).catch(error => console.error(error));\n  }\n\n  componentDidMount() {\n    updateCanvas();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: this.canvasRef,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        id: \"source\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/Users/sumankaranjit/myProfile/resume/src/pages/Profile.js"],"names":["PromiseResolve","React","Component","createRef","useEffect","useRef","checkImage","path","Promise","resolve","img","Image","onload","src","updateCanvas","canvas","canvasRef","current","frameCount","imageObj1","document","getElementById","getImage","console","log","ctx","getContext","width","height","html","documentElement","scrollTop","maxScrollTop","scrollHeight","window","innerHeight","scrollFraction","frameIndex","Math","min","floor","updateImage","Profile","constructor","imgObj","index","drawImage","getAllImg","x","imgUrl","process","env","PUBLIC_URL","toString","myPromise","then","response","catch","error","componentDidMount","render"],"mappings":"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","sourcesContent":["// import React, { createRef, useEffect } from \"react\";\n// const canvasRef = createRef();\n// function getImage(index) {\n//   return (\n//     // \"https://www.apple.com/105/media/us/airpods-pro/2019/1299e2f5_9206_4470_b28e_08307a42f19b/anim/sequence/large/01-hero-lightpass/\" +\n//     // index.toString().padStart(4, 0) +\n//     // \".jpg\"\n//     process.env.PUBLIC_URL + \"/img/img\" + index.toString() + \".png\"\n//   );\n// }\n// const updateImage = (imgObj, index, ctx) => {\n//   if (index === 0 || index === null) {\n//     index = 1;\n//   }\n//   imgObj.src = getImage(index);\n//   console.log(imgObj);\n//   ctx.drawImage(imgObj, 0, 0);\n// };\n// const getAllImg = async () => {\n//   var x = 0;\n//   while (x != 7) {\n//     x++;\n//     const imgObj = new Image();\n\n//     imgObj.src = await getImage(x);\n//   }\n// };\n// function Profile() {\n//   getAllImg();\n//   const updateCanvas = async () => {\n//     const canvas = canvasRef.current;\n//     const ctx = canvas.getContext(\"2d\");\n//     const frameCount = 7;\n//     var imageObj1 = document.getElementById(\"source\");\n\n//     canvas.width = imageObj1.width;\n//     canvas.height = imageObj1.height;\n\n//     const html = document.documentElement;\n//     const scrollTop = html.scrollTop;\n//     const maxScrollTop = html.scrollHeight - window.innerHeight;\n//     const scrollFraction = scrollTop / maxScrollTop;\n//     console.log(scrollTop, scrollFraction);\n//     const frameIndex = Math.min(\n//       frameCount - 1,\n//       Math.floor(scrollFraction * frameCount)\n//     );\n\n//     await updateImage(imageObj1, frameIndex + 1, ctx);\n\n//     console.log(frameIndex);\n//   };\n\n//   useEffect(() => {\n//     document.onscroll = async () => {\n//       await requestAnimationFrame(() => {\n//         updateCanvas();\n//       });\n\n//       return () => {\n//         //window.removeEventListener(onscroll);\n//         // cancelAnimationFrame();\n//       };\n//     };\n//   }, []);\n\n//   return (\n//     <canvas ref={canvasRef} style={{}}>\n//       <img id=\"source\" src=\"./../assets/img/0001.png\"></img>\n//     </canvas>\n//   );\n// }\n\n// export default Profile;\nimport { PromiseResolve } from \"es-abstract/es2018\";\nimport React, { Component, createRef, useEffect, useRef } from \"react\";\nconst checkImage = (path) =>\n  new Promise((resolve) => {\n    const img = new Image();\n    img.onload = () => resolve(path);\n\n    img.src = path;\n  });\nconst updateCanvas = () => {\n  const canvas = this.canvasRef.current;\n  const frameCount = 7;\n  var imageObj1 = document.getElementById(\"source\");\n  imageObj1 = this.getImage(1);\n  console.log(imageObj1);\n  const ctx = canvas.getContext(\"2d\");\n  canvas.width = imageObj1.width;\n  canvas.height = imageObj1.height;\n\n  const html = document.documentElement;\n  const scrollTop = html.scrollTop;\n  const maxScrollTop = html.scrollHeight - window.innerHeight;\n  const scrollFraction = scrollTop / maxScrollTop;\n  console.log(scrollTop, scrollFraction);\n  const frameIndex = Math.min(\n    frameCount - 1,\n    Math.floor(scrollFraction * frameCount)\n  );\n\n  this.updateImage(imageObj1, frameIndex + 1, ctx);\n\n  console.log(frameIndex);\n};\nclass Profile extends Component {\n  constructor() {\n    super();\n    this.canvasRef = createRef;\n  }\n  getImage(index) {\n    // \"https://www.apple.com/105/media/us/airpods-pro/2019/1299e2f5_9206_4470_b28e_08307a42f19b/anim/sequence/large/01-hero-lightpass/\" +\n    // index.toString().padStart(4, 0) +\n    // \".jpg\"\n    const imgUrl =\n      process.env.PUBLIC_URL + \"/img/img\" + index.toString() + \".png\";\n    const myPromise = checkImage(imgUrl);\n    myPromise\n      .then((response) => console.log(response))\n      .catch((error) => console.error(error));\n  }\n\n  updateImage = async (imgObj, index, ctx) => {\n    if (index === 0 || index === null) {\n      index = 1;\n    }\n    imgObj.src = await this.getImage(index);\n    console.log(imgObj);\n    ctx.drawImage(imgObj, 0, 0);\n  };\n\n  getAllImg = async () => {\n    var x = 0;\n    while (x != 7) {\n      x++;\n      const imgObj = new Image();\n\n      imgObj.src = await this.getImage(x);\n    }\n  };\n  componentDidMount() {\n    updateCanvas();\n  }\n  render() {\n    return (\n      <canvas ref={this.canvasRef}>\n        <img id=\"source\" />\n      </canvas>\n    );\n  }\n}\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}