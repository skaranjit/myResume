{"ast":null,"code":"/**\n * A Node.js wrapper for terminal-notify (with fallback).\n */\nvar utils = require('../lib/utils');\n\nvar Growl = require('./growl');\n\nvar path = require('path');\n\nvar notifier = path.join(__dirname, '../vendor/mac.noindex/terminal-notifier.app/Contents/MacOS/terminal-notifier');\n\nvar EventEmitter = require('events').EventEmitter;\n\nvar util = require('util');\n\nvar errorMessageOsX = 'You need Mac OS X 10.8 or above to use NotificationCenter,' + ' or use Growl fallback with constructor option {withFallback: true}.';\nmodule.exports = NotificationCenter;\n\nfunction NotificationCenter(options) {\n  options = utils.clone(options || {});\n\n  if (!(this instanceof NotificationCenter)) {\n    return new NotificationCenter(options);\n  }\n\n  this.options = options;\n  EventEmitter.call(this);\n}\n\nutil.inherits(NotificationCenter, EventEmitter);\nvar activeId = null;\n\nfunction noop() {}\n\nfunction notifyRaw(options, callback) {\n  var fallbackNotifier;\n  var id = identificator();\n  options = utils.clone(options || {});\n  activeId = id;\n\n  if (typeof options === 'string') {\n    options = {\n      title: 'node-notifier',\n      message: options\n    };\n  }\n\n  callback = callback || noop;\n\n  if (typeof callback !== 'function') {\n    throw new TypeError('The second argument must be a function callback. You have passed ' + typeof fn);\n  }\n\n  var actionJackedCallback = utils.actionJackerDecorator(this, options, callback, function (data) {\n    if (activeId !== id) return false;\n\n    if (data === 'activate') {\n      return 'click';\n    }\n\n    if (data === 'timeout') {\n      return 'timeout';\n    }\n\n    if (data === 'replied') {\n      return 'replied';\n    }\n\n    return false;\n  });\n  options = utils.mapToMac(options);\n\n  if (!options.message && !options.group && !options.list && !options.remove) {\n    callback(new Error('Message, group, remove or list property is required.'));\n    return this;\n  }\n\n  var argsList = utils.constructArgumentList(options);\n\n  if (utils.isMountainLion()) {\n    utils.fileCommandJson(this.options.customPath || notifier, argsList, actionJackedCallback);\n    return this;\n  }\n\n  if (fallbackNotifier || !!this.options.withFallback) {\n    fallbackNotifier = fallbackNotifier || new Growl(this.options);\n    return fallbackNotifier.notify(options, callback);\n  }\n\n  callback(new Error(errorMessageOsX));\n  return this;\n}\n\nObject.defineProperty(NotificationCenter.prototype, 'notify', {\n  get: function () {\n    if (!this._notify) this._notify = notifyRaw.bind(this);\n    return this._notify;\n  }\n});\n\nfunction identificator() {\n  return {\n    _ref: 'val'\n  };\n}","map":{"version":3,"sources":["/Users/sumankaranjit/myProfile/resume/node_modules/node-notifier/notifiers/notificationcenter.js"],"names":["utils","require","Growl","path","notifier","join","__dirname","EventEmitter","util","errorMessageOsX","module","exports","NotificationCenter","options","clone","call","inherits","activeId","noop","notifyRaw","callback","fallbackNotifier","id","identificator","title","message","TypeError","fn","actionJackedCallback","actionJackerDecorator","data","mapToMac","group","list","remove","Error","argsList","constructArgumentList","isMountainLion","fileCommandJson","customPath","withFallback","notify","Object","defineProperty","prototype","get","_notify","bind","_ref"],"mappings":"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","sourcesContent":["/**\n * A Node.js wrapper for terminal-notify (with fallback).\n */\nvar utils = require('../lib/utils');\nvar Growl = require('./growl');\nvar path = require('path');\nvar notifier = path.join(\n  __dirname,\n  '../vendor/mac.noindex/terminal-notifier.app/Contents/MacOS/terminal-notifier'\n);\n\nvar EventEmitter = require('events').EventEmitter;\nvar util = require('util');\n\nvar errorMessageOsX =\n  'You need Mac OS X 10.8 or above to use NotificationCenter,' +\n  ' or use Growl fallback with constructor option {withFallback: true}.';\n\nmodule.exports = NotificationCenter;\n\nfunction NotificationCenter(options) {\n  options = utils.clone(options || {});\n  if (!(this instanceof NotificationCenter)) {\n    return new NotificationCenter(options);\n  }\n  this.options = options;\n\n  EventEmitter.call(this);\n}\nutil.inherits(NotificationCenter, EventEmitter);\nvar activeId = null;\n\nfunction noop() {}\nfunction notifyRaw(options, callback) {\n  var fallbackNotifier;\n  var id = identificator();\n  options = utils.clone(options || {});\n  activeId = id;\n\n  if (typeof options === 'string') {\n    options = { title: 'node-notifier', message: options };\n  }\n  callback = callback || noop;\n\n  if (typeof callback !== 'function') {\n    throw new TypeError(\n      'The second argument must be a function callback. You have passed ' +\n        typeof fn\n    );\n  }\n\n  var actionJackedCallback = utils.actionJackerDecorator(\n    this,\n    options,\n    callback,\n    function(data) {\n      if (activeId !== id) return false;\n\n      if (data === 'activate') {\n        return 'click';\n      }\n      if (data === 'timeout') {\n        return 'timeout';\n      }\n      if (data === 'replied') {\n        return 'replied';\n      }\n      return false;\n    }\n  );\n\n  options = utils.mapToMac(options);\n\n  if (!options.message && !options.group && !options.list && !options.remove) {\n    callback(new Error('Message, group, remove or list property is required.'));\n    return this;\n  }\n\n  var argsList = utils.constructArgumentList(options);\n  if (utils.isMountainLion()) {\n    utils.fileCommandJson(\n      this.options.customPath || notifier,\n      argsList,\n      actionJackedCallback\n    );\n    return this;\n  }\n\n  if (fallbackNotifier || !!this.options.withFallback) {\n    fallbackNotifier = fallbackNotifier || new Growl(this.options);\n    return fallbackNotifier.notify(options, callback);\n  }\n\n  callback(new Error(errorMessageOsX));\n  return this;\n}\n\nObject.defineProperty(NotificationCenter.prototype, 'notify', {\n  get: function() {\n    if (!this._notify) this._notify = notifyRaw.bind(this);\n    return this._notify;\n  }\n});\n\nfunction identificator() {\n  return { _ref: 'val' };\n}\n"]},"metadata":{},"sourceType":"script"}