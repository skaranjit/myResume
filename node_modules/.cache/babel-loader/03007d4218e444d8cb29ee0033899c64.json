{"ast":null,"code":"/**\n * Wrapper for the growly module\n */\nvar checkGrowl = require('../lib/checkGrowl');\n\nvar utils = require('../lib/utils');\n\nvar growly = require('growly');\n\nvar EventEmitter = require('events').EventEmitter;\n\nvar util = require('util');\n\nvar errorMessageNotFound = \"Couldn't connect to growl (might be used as a fallback). Make sure it is running\";\nmodule.exports = Growl;\nvar hasGrowl;\n\nfunction Growl(options) {\n  options = utils.clone(options || {});\n\n  if (!(this instanceof Growl)) {\n    return new Growl(options);\n  }\n\n  growly.appname = options.name || 'Node';\n  this.options = options;\n  EventEmitter.call(this);\n}\n\nutil.inherits(Growl, EventEmitter);\n\nfunction notifyRaw(options, callback) {\n  growly.setHost(this.options.host, this.options.port);\n  options = utils.clone(options || {});\n\n  if (typeof options === 'string') {\n    options = {\n      title: 'node-notifier',\n      message: options\n    };\n  }\n\n  callback = utils.actionJackerDecorator(this, options, callback, function (data) {\n    if (data === 'click') {\n      return 'click';\n    }\n\n    if (data === 'timedout') {\n      return 'timeout';\n    }\n\n    return false;\n  });\n  options = utils.mapToGrowl(options);\n\n  if (!options.message) {\n    callback(new Error('Message is required.'));\n    return this;\n  }\n\n  options.title = options.title || 'Node Notification:';\n\n  if (hasGrowl || !!options.wait) {\n    var localCallback = options.wait ? callback : noop;\n    growly.notify(options.message, options, localCallback);\n    if (!options.wait) callback();\n    return this;\n  }\n\n  checkGrowl(growly, function (_, didHaveGrowl) {\n    hasGrowl = didHaveGrowl;\n    if (!didHaveGrowl) return callback(new Error(errorMessageNotFound));\n    growly.notify(options.message, options);\n    callback();\n  });\n  return this;\n}\n\nObject.defineProperty(Growl.prototype, 'notify', {\n  get: function () {\n    if (!this._notify) this._notify = notifyRaw.bind(this);\n    return this._notify;\n  }\n});\n\nfunction noop() {}","map":{"version":3,"sources":["/Users/sumankaranjit/myProfile/resume/node_modules/node-notifier/notifiers/growl.js"],"names":["checkGrowl","require","utils","growly","EventEmitter","util","errorMessageNotFound","module","exports","Growl","hasGrowl","options","clone","appname","name","call","inherits","notifyRaw","callback","setHost","host","port","title","message","actionJackerDecorator","data","mapToGrowl","Error","wait","localCallback","noop","notify","_","didHaveGrowl","Object","defineProperty","prototype","get","_notify","bind"],"mappings":"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","sourcesContent":["/**\n * Wrapper for the growly module\n */\nvar checkGrowl = require('../lib/checkGrowl');\nvar utils = require('../lib/utils');\nvar growly = require('growly');\n\nvar EventEmitter = require('events').EventEmitter;\nvar util = require('util');\n\nvar errorMessageNotFound =\n  \"Couldn't connect to growl (might be used as a fallback). Make sure it is running\";\n\nmodule.exports = Growl;\n\nvar hasGrowl;\n\nfunction Growl(options) {\n  options = utils.clone(options || {});\n  if (!(this instanceof Growl)) {\n    return new Growl(options);\n  }\n\n  growly.appname = options.name || 'Node';\n  this.options = options;\n\n  EventEmitter.call(this);\n}\nutil.inherits(Growl, EventEmitter);\n\nfunction notifyRaw(options, callback) {\n  growly.setHost(this.options.host, this.options.port);\n  options = utils.clone(options || {});\n\n  if (typeof options === 'string') {\n    options = { title: 'node-notifier', message: options };\n  }\n\n  callback = utils.actionJackerDecorator(this, options, callback, function(\n    data\n  ) {\n    if (data === 'click') {\n      return 'click';\n    }\n    if (data === 'timedout') {\n      return 'timeout';\n    }\n    return false;\n  });\n\n  options = utils.mapToGrowl(options);\n\n  if (!options.message) {\n    callback(new Error('Message is required.'));\n    return this;\n  }\n\n  options.title = options.title || 'Node Notification:';\n\n  if (hasGrowl || !!options.wait) {\n    var localCallback = options.wait ? callback : noop;\n    growly.notify(options.message, options, localCallback);\n    if (!options.wait) callback();\n    return this;\n  }\n\n  checkGrowl(growly, function(_, didHaveGrowl) {\n    hasGrowl = didHaveGrowl;\n    if (!didHaveGrowl) return callback(new Error(errorMessageNotFound));\n    growly.notify(options.message, options);\n    callback();\n  });\n  return this;\n}\n\nObject.defineProperty(Growl.prototype, 'notify', {\n  get: function() {\n    if (!this._notify) this._notify = notifyRaw.bind(this);\n    return this._notify;\n  }\n});\n\nfunction noop() {}\n"]},"metadata":{},"sourceType":"script"}