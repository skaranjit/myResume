{"ast":null,"code":"var _jsxFileName = \"/Users/sumankaranjit/myProfile/resume/src/pages/Profile.js\";\nimport { request } from \"dom-helpers/cjs/animationFrame\";\nimport React, { Component } from \"react\";\nimport Canvas from \"./../components/canvas\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Profile extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleScrollEvent = () => {\n      const scrollTop = html.scrollTop;\n      const maxScrollTop = html.scrollHeight - window.innerHeight;\n      const scrollFraction = scrollTop / maxScrollTop;\n      const frameIndex = Math.min(frameCount - 1, Math.floor(scrollFraction * frameCount));\n      requestAnimationFrame(() => this.updateImage(imageObj1, frameIndex + 1, ctx));\n      console.log(maxScrollTop);\n    };\n  }\n\n  componentDidMount() {\n    this.updateCanvas();\n    this.addEventListener(\"scroll\", () => {\n      const scrollTop = html.scrollTop;\n      const maxScrollTop = html.scrollHeight - window.innerHeight;\n      const scrollFraction = scrollTop / maxScrollTop;\n      const frameIndex = Math.min(frameCount - 1, Math.floor(scrollFraction * frameCount));\n      requestAnimationFrame(() => this.updateImage(imageObj1, frameIndex + 1, ctx));\n      console.log(maxScrollTop);\n    });\n  }\n\n  getImage(index) {\n    return \"https://www.apple.com/105/media/us/airpods-pro/2019/1299e2f5_9206_4470_b28e_08307a42f19b/anim/sequence/large/01-hero-lightpass/000\" + index + \".jpg\";\n  }\n\n  updateImage(imgObj, index, ctx) {\n    imgObj.src = this.getImage(index);\n    ctx.drawImage(imgObj, 0, 20);\n  }\n\n  updateCanvas() {\n    const canvas = document.querySelector(\"canvas\");\n    const html = document.documentElement;\n    const frameCount = 147;\n    canvas.width = 1158;\n    canvas.height = 770;\n    const ctx = canvas.getContext(\"2d\");\n    var imageObj1 = new Image();\n    imageObj1.src = this.getImage(1); // imageObj1.onload = function () {\n    //   ctx.drawImage(imageObj1, 20, 20);\n    // };\n\n    window.addEventListener(\"scroll\", () => {\n      const scrollTop = html.scrollTop;\n      const maxScrollTop = html.scrollHeight - window.innerHeight;\n      const scrollFraction = scrollTop / maxScrollTop;\n      const frameIndex = Math.min(frameCount - 1, Math.floor(scrollFraction * frameCount));\n      requestAnimationFrame(() => this.updateImage(imageObj1, frameIndex + 1, ctx));\n      console.log(maxScrollTop);\n    });\n  } //   const draw = (ctx, frameCount) => {\n  // const html = document.documentElement;\n  // const canvas = document.createElement(\"canvas\");\n  // const ctx = canvas.id(\"profile\");\n  // const context = canvas.getContext(\"2d\");\n  // canvas.width = 1158;\n  // canvas.height = 770;\n  // // canvas.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  // // ctx.beginPath();\n  // // ctx.fill();\n  // const img = new Image();\n  // img.src = currentFrame(1);\n  // img.onload = function () {\n  //   context.drawImage(img, 0, 0);\n  // };\n  // const updateImage = (index) => {\n  //   img.src = currentFrame(index);\n  //   ctx.drawImage(img, 0, 0);\n  // };\n  //   requestAnimationFrame(() => updateImage(frameCount + 1));\n  //   console.log(maxScrollTop);\n  // });\n  //};\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: \"canvas\",\n      style: {\n        flex: 1,\n        flexBasis: 1,\n        scrollBehavior: \"auto\"\n      },\n      children: \" \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/Users/sumankaranjit/myProfile/resume/src/pages/Profile.js"],"names":["request","React","Component","Canvas","Profile","handleScrollEvent","scrollTop","html","maxScrollTop","scrollHeight","window","innerHeight","scrollFraction","frameIndex","Math","min","frameCount","floor","requestAnimationFrame","updateImage","imageObj1","ctx","console","log","componentDidMount","updateCanvas","addEventListener","getImage","index","imgObj","src","drawImage","canvas","document","querySelector","documentElement","width","height","getContext","Image","render","flex","flexBasis","scrollBehavior"],"mappings":"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","sourcesContent":["import { request } from \"dom-helpers/cjs/animationFrame\";\nimport React, { Component } from \"react\";\nimport Canvas from \"./../components/canvas\";\n\nclass Profile extends Component {\n  componentDidMount() {\n    this.updateCanvas();\n    this.addEventListener(\"scroll\", () => {\n      const scrollTop = html.scrollTop;\n      const maxScrollTop = html.scrollHeight - window.innerHeight;\n      const scrollFraction = scrollTop / maxScrollTop;\n      const frameIndex = Math.min(\n        frameCount - 1,\n        Math.floor(scrollFraction * frameCount)\n      );\n      requestAnimationFrame(() =>\n        this.updateImage(imageObj1, frameIndex + 1, ctx)\n      );\n      console.log(maxScrollTop);\n    });\n  }\n  handleScrollEvent = () => {\n    const scrollTop = html.scrollTop;\n    const maxScrollTop = html.scrollHeight - window.innerHeight;\n    const scrollFraction = scrollTop / maxScrollTop;\n    const frameIndex = Math.min(\n      frameCount - 1,\n      Math.floor(scrollFraction * frameCount)\n    );\n    requestAnimationFrame(() =>\n      this.updateImage(imageObj1, frameIndex + 1, ctx)\n    );\n    console.log(maxScrollTop);\n  };\n  getImage(index) {\n    return (\n      \"https://www.apple.com/105/media/us/airpods-pro/2019/1299e2f5_9206_4470_b28e_08307a42f19b/anim/sequence/large/01-hero-lightpass/000\" +\n      index +\n      \".jpg\"\n    );\n  }\n  updateImage(imgObj, index, ctx) {\n    imgObj.src = this.getImage(index);\n    ctx.drawImage(imgObj, 0, 20);\n  }\n  updateCanvas() {\n    const canvas = document.querySelector(\"canvas\");\n    const html = document.documentElement;\n    const frameCount = 147;\n    canvas.width = 1158;\n    canvas.height = 770;\n    const ctx = canvas.getContext(\"2d\");\n\n    var imageObj1 = new Image();\n    imageObj1.src = this.getImage(1);\n    // imageObj1.onload = function () {\n    //   ctx.drawImage(imageObj1, 20, 20);\n    // };\n    window.addEventListener(\"scroll\", () => {\n      const scrollTop = html.scrollTop;\n      const maxScrollTop = html.scrollHeight - window.innerHeight;\n      const scrollFraction = scrollTop / maxScrollTop;\n      const frameIndex = Math.min(\n        frameCount - 1,\n        Math.floor(scrollFraction * frameCount)\n      );\n      requestAnimationFrame(() =>\n        this.updateImage(imageObj1, frameIndex + 1, ctx)\n      );\n      console.log(maxScrollTop);\n    });\n  }\n\n  //   const draw = (ctx, frameCount) => {\n\n  // const html = document.documentElement;\n  // const canvas = document.createElement(\"canvas\");\n  // const ctx = canvas.id(\"profile\");\n  // const context = canvas.getContext(\"2d\");\n  // canvas.width = 1158;\n  // canvas.height = 770;\n  // // canvas.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  // // ctx.beginPath();\n  // // ctx.fill();\n  // const img = new Image();\n  // img.src = currentFrame(1);\n  // img.onload = function () {\n  //   context.drawImage(img, 0, 0);\n  // };\n  // const updateImage = (index) => {\n  //   img.src = currentFrame(index);\n  //   ctx.drawImage(img, 0, 0);\n  // };\n\n  //   requestAnimationFrame(() => updateImage(frameCount + 1));\n  //   console.log(maxScrollTop);\n  // });\n  //};\n\n  render() {\n    return (\n      <canvas\n        ref=\"canvas\"\n        style={{ flex: 1, flexBasis: 1, scrollBehavior: \"auto\" }}\n      >\n        {\" \"}\n      </canvas>\n    );\n  }\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}